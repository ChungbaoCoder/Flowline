@page "/account/register"

@inject UserAccountService _acc

<h4>Đăng kí tài khoản mới</h4>

<div class="row justify-content-center">
    <div class="col-md-6">

        <EditForm Model="request" class="py-4" OnSubmit="Register">

            <div class="mb-3 row">
                <label class="col-sm-3 col-12 col-form-label">Tên người dùng</label>
                <div class="col-sm-9 p-1">
                    <InputText class="form-control" type="text" @bind-Value="request.Name"></InputText>
                </div>
            </div>

            <div class="mb-3 row">
                <label class="col-sm-3 col-12 col-form-label">Email</label>
                <div class="col-sm-9 p-1">
                    <InputText class="form-control" type="email" @bind-Value="request.Email"></InputText>
                </div>
            </div>

            <div class="mb-3 row">
                <label class="col-sm-3 col-12 col-form-label">Mật khẩu</label>
                <div class="col-sm-9 p-1">
                    <InputText class="form-control" type="password" @bind-Value="request.Password"></InputText>
                </div>
            </div>

            <div class="mb-3 row">
                <label class="col-sm-3 col-12 col-form-label">Nhập lại mật khẩu</label>
                <div class="col-sm-9 p-1">
                    <InputText class="form-control" type="password" @bind-Value="request.CheckPassword"></InputText>
                </div>
            </div>

            <div class="d-flex flex-column flex-sm-row offset-0 offset-sm-3">
                <button type="submit" class="btn btn-dark">Đăng kí</button>
            </div>

        </EditForm>

    </div>
</div>

@code {
    private RegisterUser request = new RegisterUser();

    private async Task Register()
    {
        await _acc.RegisterAccount(request);
    }
}
